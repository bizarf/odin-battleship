(()=>{"use strict";var t={d:(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{y:()=>o});const e=class{constructor(t){this.name=t,this.turn=null,this.board=new class{constructor(){this.board=[],this.makeBoard(),this.ships=[]}makeBoard(){for(let t=0;t<8;t++){this.board[t]=[];for(let e=0;e<8;e++)this.board[t][e]={ship:!1,hit:!1,missedShot:!1}}}placeShip(t,e,r,s){if(!0===this.isPlaceable(t,s,e)){const o=new class{constructor(t,e){this.name=t,this.length=e,this.hits=0}hit(){return this.hits+=1}isSunk(){return this.length===this.hits}}(r,s);if(this.ships.push(o),"hor"===e)for(let e=0;e<s;e++)this.board[t[0]][t[1]+e].ship=r;if("vert"===e)for(let e=0;e<s;e++)this.board[t[0]+e][t[1]].ship=r}return!1}isPlaceable(t,e,r){const s=[];if("hor"===r){if(t[1]+e-1>=7)return!1;for(let r=0;r<e;r++)!1===this.board[t[0]][t[1]+r].ship&&s.push(this.board[t[0]][t[1]+r].ship)}if("vert"===r){if(t[0]+e-1>=7)return!1;for(let r=0;r<e;r++)!1===this.board[t[0]+r][t[1]].ship&&s.push(this.board[t[0]+1][t[1]].ship)}return s.length==e}receiveAttack(t){const e=this.board[t[0]][t[1]];if(0!=e.ship){const t=this.getShipIndex(e.ship);this.ships[t].hit(),e.hit=!0}!1===e.ship&&(e.missedShot=!0)}getShipIndex(t){return this.ships.map((t=>t.name)).indexOf(t)}checkAllShipStatus(){return this.ships.map((t=>t.isSunk())).every((t=>{if(!0===t)return!0}))}}}computerPlay(){if(!0===this.turn)return[Math.floor(8*Math.random()),Math.floor(8*Math.random())]}randomShipPlacement(){Math.floor(Math.random()*["hor","vert"].length),Math.floor(8*Math.random()),Math.floor(8*Math.random()),console.log(this.board.isPlaceable([0,0],5,"hor"))}},r=document.querySelector(".playerBoard"),s=document.querySelector(".computerBoard"),o=new e("human");new e("computer"),(()=>{for(let t=0;t<8;t++)for(let e=0;e<8;e++){const s=document.createElement("div");s.classList="playerBoardSquare",s.dataset.pos=[t,e],r.appendChild(s)}})(),(()=>{for(let t=0;t<8;t++)for(let e=0;e<8;e++){const r=document.createElement("div");r.classList="computerBoardSquare",r.dataset.pos=[t,e],s.appendChild(r)}})(),document.querySelectorAll(".playerBoardSquare").forEach((t=>t.addEventListener("click",(()=>{const e=[parseInt(t.dataset.pos[0]),parseInt(t.dataset.pos[2])];console.log(e)})))),document.querySelectorAll(".computerBoardSquare").forEach((t=>t.addEventListener("click",(()=>{const e=[parseInt(t.dataset.pos[0]),parseInt(t.dataset.pos[2])];console.log(e)})))),o.board.placeShip([0,0],"hor","carrier",5),o.board.placeShip([2,4],"hor","cruiser",3),console.log(o.board.board),document.querySelectorAll(".playerBoardSquare").forEach((t=>{const e=[parseInt(t.dataset.pos[0]),parseInt(t.dataset.pos[2])];0!=o.board.board[e[0]][e[1]].ship&&t.classList.add("ship")}))})();